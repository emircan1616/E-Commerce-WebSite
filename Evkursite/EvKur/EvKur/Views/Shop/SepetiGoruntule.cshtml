@using EvKur.Models.Factory
@using EvKur.Models.Session
@using EvKur.Models.User
@model  IEnumerable<EvKur.Models.Shop.Sepet>
@{
    ViewData["Title"] = "SepetiGoruntule";
    var UserSession = Context.Session.GetObjectFromJson<Customer>("user");
    int toplam;
 
    //toplam hesap yapılacak
    
}

div class="container">

     <h2 class="mb-4">Sepetindeki Ürünler</h2>
     <hr /><br /><br />
     <form method="get">
<table class="table" id="myTable">
  <thead>
    <tr>    
      <th scope="col">Image</th>
      <th scope="col">Ad</th>
      <th scope="col">fiyat</th>
      <th scope="col">Adet</th>      
    </tr>
  </thead>
  <tbody>
                @foreach(var item in Model)
                {
                @if (item.customerId == UserSession.Id)
                {
                    @if(item.SepetUrunAdet>0)
                    {
                        <tr>      
                            
      <td hidden asp-for= "Id">@item.Id</td>
      <td asp-for="Image"><img src="/Image/@item.Image" width="100px" height="100px"/></td>
      <td asp-for= "Ad">@item.SepetUrunAdi</td>
      <td asp-for= "UrunFiyat">@item.SepetUrunFiyat</td>
      <td asp-for= "UrunAdet">@item.SepetUrunAdet   </td> 
      <td scope="row"><a asp-controller="Shop" asp-action="SepetiSil" asp-route-id="@item.Id"class="btn btn-danger">Sepetten çıkar</a></td>
      <td scope="row"><a asp-controller="Shop" asp-action="SatinAl" asp-route-id="@item.Id"class="btn btn-info">Satın Al</a></td>
      </tr>
                    }
                }                                           
                }
                
  </tbody>
</table>
</form>
</div>

